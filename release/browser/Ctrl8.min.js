function Ctrl8(a){this._={};this._.Props=a?a:{};this._.Ctrls={}}Ctrl8.ExtendsTo=function(a){function b(){}b.prototype=this.prototype;a.prototype=new b;a.prototype.constructor=a;a.baseConstructor=this;a.superClass=this.prototype;a.ExtendsTo=this.ExtendsTo};Ctrl8.prototype.Prop=function(a,b,c,d,e,f,g){Ctrl8.CreateProp(this,g||this._.Props,a,b,c,e,d,f)};Ctrl8.prototype.DrillProp=function(a,b,c){c?1:c=Ctrl8;Ctrl8.CreateProp(this,this._.Ctrls,a,new c(b),!0)};
Ctrl8.prototype.CpxProp=function(a,b,c){Ctrl8.CalcProp(this,this._.Props,a,function(a,c){return new b(c[a]||(c[a]={}))},c?null:function(a,b,c){c[b]=a})};Ctrl8.prototype.CalcProp=function(a,b,c,d,e){Ctrl8.CalcProp(this,e||this._.Props,a,b,c,d)};Ctrl8.DefCompareFx=function(a,b){return a===b};Ctrl8.DefChangeFx=function(a){};
Ctrl8.CreateProp=function(a,b,c,d,e,f,g,h){f?1:f=Ctrl8.DefCompareFx;g?1:g=Ctrl8.DefChangeFx;h={get:function(){return b[c]},configurable:h?!0:!1};e?1:h.set=function(a){f.call(this,b[c],a)?0:(b[c]=a,g.call(this,a))};Object.defineProperty(a,c,h);b.hasOwnProperty(c)||void 0===d?1:b[c]=d};Ctrl8.CalcProp=function(a,b,c,d,e,f){f={get:function(){return d.call(this,c,b)},configurable:f?!0:!1};e?f.set=function(a){e.call(this,a,c,b)}:1;Object.defineProperty(a,c,f)};
function DrillCtrl(a){DrillCtrl.baseConstructor.call(this,a);for(var b in this._.Props)a=this._.Props[b],"object"==typeof a?this.DrillProp(b,DrillCtrl,a):this.Prop(b)}Ctrl8.ExtendsTo(DrillCtrl);function EventCtrl(a){EventCtrl.baseConstructor.call(this,a);this._.Events={}}Ctrl8.ExtendsTo(EventCtrl);EventCtrl.prototype.Emit=function(){var a=Array.prototype.slice.call(arguments),b=a[0];a.splice(0,1);(b=this._.Events[b])?b.forEach(function(b){b.apply(this,a)},this):1};
EventCtrl.prototype.On=function(a,b){var c=this._.Events[a]||(this._.Events[a]=[]);0>c.indexOf(b)?c.push(b):1};EventCtrl.prototype.Off=function(a,b){var c=this._.Events[a]||(this._.Events[a]=[]),d=c.indexOf(b);0<=d?c.splice(d,1):1};function WebCtrl(a,b){WebCtrl.baseConstructor.call(this,b);this.DOM="string"==typeof a?document.querySelector(a):a;var c=WebCtrl.GetInit(this.DOM),d=this._.Props,e;for(e in c)d.hasOwnProperty(e)?1:d[e]=c[e]}EventCtrl.ExtendsTo(WebCtrl);
WebCtrl.GetInit=function(a){return a=(a=a.getAttribute("init"))&&a.length?eval("("+a+")")||{}:{}};var _8=function(a){return new DOMCtrl(a)};function DOMCtrl(a){this.DOM="string"==typeof a?document.querySelector(a):a}
DOMCtrl.prototype.attr=function(a,b){var c=this,d;d=Array.isArray(a)?"array":typeof a;if("string"==d){if(void 0===b)return this.DOM.getAttribute(a);null==b?this.DOM.removeAttribute(a):this.DOM.setAttribute(a,b);return c}if("array"==d){if(void 0===b){var e={};a.forEach(function(a){e[a]=c.DOM.getAttribute(a)});return e}null==b?a.forEach(function(a){c.DOM.removeAttribute(a)}):a.forEach(function(a){c.DOM.setAttribute(a,b)});return c}if("object"==d)for(var f in a)d=a[f],null==d?c.DOM.removeAttribute(f):
c.DOM.setAttribute(f,d.call?d(f):d);return c};DOMCtrl.prototype.prop=function(a,b){var c=this.DOM,d;d=Array.isArray(a)?"array":typeof a;if("string"==d){if(void 0===b)return c[a];null==b?delete c[a]:c[a]=b;return this}if("array"==d){if(void 0===b){var e={};a.forEach(function(a){e[a]=c[a]});return e}null==b?a.forEach(function(a){delete c[a]}):a.forEach(function(a){c[a]=b});return this}if("object"==d)for(var f in a)d=a[f],null==d?delete c[f]:c[f]=d.call?d(f):d;return this};
DOMCtrl.prototype.css=function(a,b){var c=this.DOM.style,d;d=Array.isArray(a)?"array":typeof a;if("string"==d){if(void 0===b)return c.getPropertyValue(a);null==b?c.removeProperty(a):c.setProperty(a,b);return this}if("array"==d){if(void 0===b){var e={};a.forEach(function(a){e[a]=c.getPropertyValue(a)});return e}null==b?a.forEach(function(a){c.removeProperty(a)}):a.forEach(function(a){c.setProperty(a,b)});return this}if("object"==d)for(var f in a)d=a[f],null==d?c.removeProperty(f):c.setProperty(f,d.call?
d(f):d);return this};DOMCtrl.prototype.on=function(a,b){this.DOM.addEventListener(a,b);return this};DOMCtrl.prototype.sel=function(a){return new DOMCtrl(this.DOM.querySelector(a))};DOMCtrl.prototype.append=function(a){a=document.createElement(a);this.DOM.append(a);return new DOMCtrl(a)};DOMCtrl.prototype.remove=function(a){a=this.DOM.querySelectorAll(a);for(var b=0;b<a.length;b++)this.DOM.removeChild(a[b])};
DOMCtrl.prototype.text=function(a){if(void 0===a)return this.DOM.textContent;this.DOM.textContent=a;return this};DOMCtrl.prototype.html=function(a){if(void 0===a)return this.DOM.innerHTML;this.DOM.innerHTML=a;return this};DOMCtrl.prototype.rm=function(a){a=this.DOM.querySelectorAll(a);for(var b=0;b<a.length;b++)this.DOM.removeChild(a[b]);return this};
DOMCtrl.Utils={MouseXY:function(a,b){var c=a.getBoundingClientRect();return[b.clientX-c.left,b.clientY-c.top]},EnableSpan:function(a,b){var c;a.addEventListener("mousemove",function(d){d=window.event||d;if(1==d.buttons){var e=DOMCtrl.Utils.MouseXY(a,d);b.call(a,d,{dx:e[0]-c[0],dy:e[1]-c[1],m1:[c[0],c[1]],m2:[e[0],e[1]]});c=e}else c=DOMCtrl.Utils.MouseXY(a,d);d.stopPropagation();d.preventDefault()})},EnableDrag:function(a,b,c,d){var e;a.addEventListener("mousemove",function(f){f=window.event||f;if(1==
f.buttons){var g=DOMCtrl.Utils.MouseXY(a,f),h=d?d():[0,0];g[0]+=h[0];g[1]+=h[1];b.call(a,f,{dx:g[0]-e[0],dy:g[1]-e[1],m1:[e[0],e[1]],m2:[g[0],g[1]]});c?e=g:0}else{var h=d?d():[0,0];e=DOMCtrl.Utils.MouseXY(a,f);e[0]+=h[0];e[1]+=h[1]}f.stopPropagation();f.preventDefault()})}};
