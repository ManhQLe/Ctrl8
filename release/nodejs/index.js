function Ctrl8(a){this._={};this._.Props=a?a:{};this._.Ctrls={}}Ctrl8.ExtendsTo=function(a){function b(){}b.prototype=this.prototype;a.prototype=new b;a.prototype.constructor=a;a.baseConstructor=this;a.superClass=this.prototype;a.ExtendsTo=this.ExtendsTo};Ctrl8.prototype.Prop=function(a,b,c,d,f,e,g){Ctrl8.CreateProp(this,g||this._.Props,a,b,c,f,d,e)};Ctrl8.prototype.DrillProp=function(a,b,c){c?1:c=Ctrl8;Ctrl8.CreateProp(this,this._.Ctrls,a,new c(b),!0)};
Ctrl8.prototype.CpxProp=function(a,b,c){Ctrl8.CalcProp(this,this._.Props,a,function(a,c){return new b(c[a]||(c[a]={}))},c?null:function(a,b,c){c[b]=a})};Ctrl8.prototype.CalcProp=function(a,b,c,d,f){Ctrl8.CalcProp(this,f||this._.Props,a,b,c,d)};Ctrl8.DefCompareFx=function(a,b){return a===b};Ctrl8.DefChangeFx=function(a){};
Ctrl8.CreateProp=function(a,b,c,d,f,e,g,h){e?1:e=Ctrl8.DefCompareFx;g?1:g=Ctrl8.DefChangeFx;h={get:function(){return b[c]},configurable:h?!0:!1};f?1:h.set=function(a){e.call(this,b[c],a)?0:(b[c]=a,g.call(this,a))};Object.defineProperty(a,c,h);b.hasOwnProperty(c)||void 0===d?1:b[c]=d};Ctrl8.CalcProp=function(a,b,c,d,f,e){e={get:function(){return d.call(this,c,b)},configurable:e?!0:!1};f?e.set=function(a){f.call(this,a,c,b)}:1;Object.defineProperty(a,c,e)};
function DrillCtrl(a){DrillCtrl.baseConstructor.call(this,a);for(var b in this._.Props)a=this._.Props[b],"object"==typeof a?this.DrillProp(b,DrillCtrl,a):this.Prop(b)}Ctrl8.ExtendsTo(DrillCtrl);function EventCtrl(a){EventCtrl.baseConstructor.call(this,a);this._.Events={}}Ctrl8.ExtendsTo(EventCtrl);EventCtrl.prototype.Emit=function(){var a=Array.prototype.slice.call(arguments),b=a[0];a.splice(0,1);(b=this._.Events[b])?b.forEach(function(b){b.apply(this,a)},this):1};
EventCtrl.prototype.On=function(a,b){var c=this._.Events[a]||(this._.Events[a]=[]);0>c.indexOf(b)?c.push(b):1};EventCtrl.prototype.Off=function(a,b){var c=this._.Events[a]||(this._.Events[a]=[]),d=c.indexOf(b);0<=d?c.splice(d,1):1};module.exports={EventCtrl:EventCtrl,Ctrl8:Ctrl8};
